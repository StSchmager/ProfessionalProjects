# Reading & Processing XML Transaction Data

The R script 1 & 2 are pivotal to my first analysis of transaction data (analysis of customer ZIP codes contained therein) which are stored in XML files. These contain complex, tree-structured data from thousands of XML files since each file contains sales transaction information that's collected at each checkout lane, in each retail store, each day. Transaction data such as items purchased, sales totals, date/time, customer number, et cetera are then read, munged and joined/enhanced with additional data from external data sources, e.g. customer file with customer ZIP codes.
Ultimately, the data output is simplified because -- compared to the initial tree-structured input data -- the output consist of conventional tabular CSV datasets. They vary by detail  due to data subsettting/aggregations) and are then used for research-question based data exploration, analyses, visualizations, and communication/presentation with the help of Tableau.

## Input Data
The reading/processing script takes in one folder (per single store) or various folders (for multiple stores), that contain a big amount of XML files (ranging from 4,000 to more than 7,000) as its main input, loops through those files (and folders in case of multi-store reading), reads the same specified information from each file repeatedly, and organizes/binds them into one major dataset.

Each XML file contains daily, point-of-sale transaction data that is collected by cash-register scanners and recorded by cashier entries. The transaction data set is additionally enhanced by joining in data from other, external data sources like a 
* Customer data set (with customer account numbers and their ZIP codes),
* ZIP-code data set (with valid U.S. ZIP codes), and
* Sales-paper distribution data set (with household counts per ZIP code, per store).

## Processed Data
The processed data set is stored in the R memory space and is additionally backed up by a R-object file.

The data set contains information for __each customer transaction__ (observation/rows) from one/multiple store/s in a specified date range and is described by the following __transaction features__ (variables/columns), which either originate from the XML file or were added as a consequence of certain data joins or transfromations.

Variable Name | Description
--------------|--------------------------------------------------------------------------------------------------------------------
__ID__        | Unique identifier for each transaction across stores (consists of date, as well as store, lane, and transaction number respectively)
__TransType__ | Transaction type (in this dataset exclusively  "SALE" transactions; other types like "REFUND" or "VOIDED" were already excluded within the reading process)
__TransNo__   | Transaction number which is just unique per store-lane, hence, could _not_ be used as unique identifier across stores (like the __ID__ above)
__LaneNo__    | Lane (cash-register) number
__StoreNo__   | Store number
__Date__      | Date
__Week__      | Sales week numbers by which dates are grouped by (instead of customary Mon-Sun or Sun-Sat, the retailer-typical week ranges from Wed-Tue)
__STime__     | Start time when transaction began
__Etime__     | End time when transaction concluded
__SDateTime__ | Start date-time
__EDateTime__ | End date-time
__CashNo__    | Cashier number
__CashName__  | Cashier name
__CustNo__    | Customer number
__RewCust__   | Boolean indicator: TRUE, if customer has an accoount number / is part of the rewards program; FALSE, if not
__TotalSales__| Total sales generated by customer within transaction
__ZIPCash__   | ZIP code of the customer entered by the _cashier at checkout_ (NA, if no ZIP code is entered at all)
__IsZIPCash__ | Boolean indicator: TRUE, if ZIP code could be matched against list of valid, existing ZIP codes; FALSE, if invalid ZIP code (NA, if no ZIP code is entered at all)
__ZIPCust__   | ZIP code of the customer entered by the _customer at enrollment_ (NA, if no ZIP code is entered at all)
__IsZIPCust__ | Boolean indicator: TRUE, if ZIP code could be matched against list of valid, existing ZIP codes; FALSE, if invalid ZIP code (NA, if no ZIP code is entered at all)
__ZIP__       | Final ZIP code of the customer identical with __ZIPCust__ if available, or alternatively __ZIPCust__ if not available (NA, if no ZIP code is entered at all)
__IsZIP__     | Boolean indicator: TRUE, if ZIP code could be matched against list of valid, existing ZIP codes; FALSE, if invalid ZIP code (NA, if no ZIP code is entered at all)
__ZIPComp__   | Boolean indicator: TRUE, if aforementioned ZIP codes are identical; FALSE, if not (NA, if comparison could not be performed because either one of the ZIP codes is not available)

## Output Data
Depending on the particular research question and analysis problem, the processed data set is further subset and/or aggregated in order to reduce levels of information and storage-space size. It is then exported to a tabular format and saved as a CSV file in order to be loaded into Tableau, a software in which the research questions and analysis problems can be solved with the help of intuitive and quicker data visualization/exploration.
